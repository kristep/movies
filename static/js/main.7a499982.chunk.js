(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{40:function(e,t,a){e.exports=a(62)},45:function(e,t,a){},46:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(35),c=a.n(l),o=a(4),s=a(2),i=(a(45),a(46),a(10)),m=a.n(i),u=a(15),p=a(1),d=function(e,t){var a=Object(n.useState)(null),r=Object(p.a)(a,2),l=r[0],c=r[1],o=Object(n.useState)(null),s=Object(p.a)(o,2),i=s[0],d=s[1],E=Object(n.useState)(!1),v=Object(p.a)(E,2),b=v[0],g=v[1];return Object(n.useEffect)((function(){t&&function(){var t=Object(u.a)(m.a.mark((function t(){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!1),g(!0),t.prev=2,t.next=5,fetch(e);case 5:return a=t.sent,t.next=8,a.json();case 8:n=t.sent,c(n),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),d(!0);case 15:g(!1);case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}}()()}),[e,t]),{response:l,isLoading:b,isError:i}},E=function(){var e=d("https://api.themoviedb.org/3/genre/movie/list?api_key=f1782698a1c04f301973e311a7876bdb&language=en-US","genres").response;return null!==e?e:""},v=function(){var e=E();return r.a.createElement(r.a.Fragment,null,""!==e?e.genres.map((function(e){return r.a.createElement("li",{key:e.id,onClick:function(){return window.location.reload(!1)}},r.a.createElement(o.b,{to:"/popular_by_genre/".concat(e.id,"/").concat(e.name)},e.name))})):null)},b=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"navbar"},r.a.createElement("li",{className:"dropdown"},"Genres",r.a.createElement("ul",{className:"dropdown-content genres-list"},r.a.createElement(v,null))),r.a.createElement("li",null,"Companies"),r.a.createElement("li",null,"Actors"),r.a.createElement("li",{className:"dropdown"},"Most popular movies",r.a.createElement("ul",{className:"dropdown-content popular"},r.a.createElement(o.b,{to:"popular_all_times"},r.a.createElement("li",null,"of all time")),r.a.createElement(o.b,{to:"popular_by_year"},r.a.createElement("li",null,"of selected year"))))))},g=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement(o.b,{to:"/"},r.a.createElement("h1",null,"Movies library"))),r.a.createElement(b,null))},f=(a(52),function(){return r.a.createElement("footer",null,r.a.createElement("span",{className:"copy"},"\xa9 2020 KriStep All Rights Reserved"),r.a.createElement("i",{className:"fas fa-arrow-up go-up",onClick:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}}))}),h=(a(53),a(54),function(e){return r.a.createElement("button",{onClick:e.onClick,className:e.className},e.text)}),_=function(e){var t=function(e){var t=Object(n.useState)(e),a=Object(p.a)(t,2),r=a[0],l=a[1];return{value:r,setValue:l,reset:function(){return l("")},bind:{value:r,onChange:function(e){l(e.target.value)}}}}(""),a=t.value,l=t.bind,c=t.reset,o=Object(s.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c(),a&&o.push("/search_results/".concat(a))},className:"search-line"},r.a.createElement("input",Object.assign({type:"text",placeholder:"search by movie title"},l)),r.a.createElement("button",{type:"submit"},"Search"),r.a.createElement(h,{onClick:function(){o.push("/detailed_search")},text:"go to detailed search",className:"btn detailed_search"})))},y=(a(55),a(56),a(17)),w=function(e){var t=e.movie,a=t.title,n=t.id,l=t.vote_average,c=t.vote_count,s=t.poster_path,i=t.release_date;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{to:"/".concat(n),className:"result-item"},s?r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300/".concat(s),alt:"movie poster"}):r.a.createElement("img",{alt:"this movie has no poster"}),r.a.createElement("div",{className:"result-item_descrip"},r.a.createElement("h3",null,a),l>0?r.a.createElement("p",null,l," points (",c," votes)"):r.a.createElement("p",null,"-- no votes yet --"),r.a.createElement("span",null,i))))},N=function(e){var t=Object(n.useState)([]),a=Object(p.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(0),s=Object(p.a)(o,2),i=s[0],d=s[1],E=Object(n.useState)(0),v=Object(p.a)(E,2),b=v[0],g=v[1],f=Object(n.useState)(!1),_=Object(p.a)(f,2),N=_[0],j=_[1],O=Object(n.useState)(!1),k=Object(p.a)(O,2),S=k[0],x=k[1],F=Object(n.useState)(1),C=Object(p.a)(F,2),B=C[0],D=C[1];return Object(n.useEffect)((function(){(function(){var t=Object(u.a)(m.a.mark((function t(){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!1),j(!0),t.prev=2,t.next=5,fetch("".concat(e.url).concat(B));case 5:return a=t.sent,t.next=8,a.json();case 8:n=t.sent,c((function(e){return[].concat(Object(y.a)(e),Object(y.a)(n.results))})),d(n.total_pages),g(n.total_results),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),x(!0);case 17:j(!1);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(){return t.apply(this,arguments)}})()()}),[B,e.url]),r.a.createElement(r.a.Fragment,null,S&&r.a.createElement("div",null,"Something went wrong ..."),N?r.a.createElement("h1",null,"LOADING..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"new-movies_header"},e.text),r.a.createElement("div",{className:"new-movies_items"},l.map((function(e){return r.a.createElement(w,{movie:e,key:e.id})}))),r.a.createElement("h4",{style:{textAlign:"center"}},"now showing:  ",function(){var e=20*B;return e>b&&(e=b),e}(),"  from ",b," results"),B<i?r.a.createElement(h,{onClick:function(e){return function(e){B<i&&(e.preventDefault(),D((function(e){return e+1})))}(e)},className:"btn load_more",text:"Load More"}):""))},j=function(){var e=(new Date).toISOString().split("T")[0],t="https://api.themoviedb.org/3/discover/movie?api_key=f1782698a1c04f301973e311a7876bdb&primary_release_date.gte=".concat(function(){var e=new Date,t=new Date(e);return t.setDate(e.getDate()-7),t.toISOString().split("T")[0]}(),"&primary_release_date.lte=").concat(e,"&sort_by=release_date.desc&page="),a="https://api.themoviedb.org/3/movie/upcoming?api_key=f1782698a1c04f301973e311a7876bdb&primary_release_date.gte=".concat(e,"&page="),n=function(e){e.target.previousSibling.classList.remove("new-movies_home"),e.target.style.display="none"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"new-movies_container "},r.a.createElement("div",{className:"new-movies-content new-movies_home"},r.a.createElement(N,{url:t,text:"Just released movies:"})),r.a.createElement(h,{onClick:function(e){return n(e)},text:"show all",className:"btn show_all"})),r.a.createElement("div",{className:"new-movies_container upcomming-container"},r.a.createElement("div",{className:"new-movies_content new-movies_home"},r.a.createElement(N,{url:a,text:"Upcomming movies:"})),r.a.createElement(h,{onClick:function(e){return n(e)},text:"show all",className:"btn show_all"})))},O=function(e){return r.a.createElement("div",{className:"prev-next_container"},r.a.createElement("button",{className:"btn",onClick:e.showPrev},"Prev"),r.a.createElement("span",null," ",e.page," of ",e.total_pages," "),r.a.createElement("button",{className:"btn",onClick:e.showNext},"Next"))},k=function(e){var t=e.results,a=t.page,n=t.total_results,l=t.total_pages,c=t.results,o=e.query;return console.log(c),r.a.createElement("div",{className:"results-container"},r.a.createElement("h2",{style:{textAlign:"center"}},"Search by: '",o,"' ",r.a.createElement("br",null),c.length>0?r.a.createElement("span",{style:{fontWeight:"normal",fontSize:"smaller"}},n," movies found"):""),r.a.createElement("div",{className:"results-list"},c.length>0?c.map((function(e){return r.a.createElement(w,{movie:e,key:e.id})})):r.a.createElement("p",null,"nothing to display")),l>0?r.a.createElement(O,{showNext:a<l?e.showNext:null,showPrev:e.showPrev,page:a,total_pages:l}):"")},S=function(){var e=Object(s.g)().query,t=Object(n.useState)(1),a=Object(p.a)(t,2),l=a[0],c=a[1],o="https://api.themoviedb.org/3/search/movie?api_key=f1782698a1c04f301973e311a7876bdb&query=".concat(e,"&page=").concat(l),i=d(o,e).response,m=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0};return r.a.createElement(r.a.Fragment,null,null!==i?r.a.createElement(k,{results:i,query:e,showNext:function(){c((function(e){return e+1})),m()},showPrev:function(){l>1&&c((function(e){return e-1})),m()}}):"not found")},x=a(39),F=function(e){return Object(n.useEffect)((function(){new x.a(".swiper-container",{slidesPerView:10,spaceBetween:50,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{1024:{slidesPerView:6,spaceBetween:40},768:{slidesPerView:4,spaceBetween:30},640:{slidesPerView:3,spaceBetween:20},320:{slidesPerView:2,spaceBetween:10}}})}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cast-container swiper-container"},r.a.createElement("ul",{className:"cast swiper-wrapper "},e.cast.map((function(e){return r.a.createElement(o.b,{className:"swiper-slide",to:"/actor/".concat(e.name),key:e.cast_id},r.a.createElement("li",null,r.a.createElement("div",{className:"actor-img-container"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(e.profile_path),alt:"actor"})),e.character?r.a.createElement("span",{className:"character"},e.character):"",r.a.createElement("span",null,e.name)))}))),r.a.createElement("div",{class:"swiper-button-prev"}),r.a.createElement("div",{class:"swiper-button-next"})))},C=function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)([]),s=Object(p.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)([]),d=Object(p.a)(u,2),E=d[0],v=d[1];return Object(n.useEffect)((function(){e.crew.forEach((function(e){"Directing"===e.department?c(e.name):"Writing"===e.department?m((function(t){return[].concat(Object(y.a)(t),[e])})):"Sound"===e.department&&v((function(t){return[].concat(Object(y.a)(t),[e])}))}))}),[]),r.a.createElement("div",{className:"crew-container"},r.a.createElement("ul",{className:"crew"},r.a.createElement("li",null,r.a.createElement("h4",null,"Directed by:")," ",l),i!==[]?r.a.createElement("li",null,r.a.createElement("h4",null,"Written by: "),r.a.createElement("ul",null," ",i.map((function(e){return r.a.createElement("li",{key:e.id},e.name," - ",e.job)})))):"",E!==[]?r.a.createElement("li",null,r.a.createElement("h4",null,"Sound:"),r.a.createElement("ul",null," ",E.map((function(e){return r.a.createElement("li",{key:e.id},e.name," - ",e.job)})))):"",r.a.createElement("li",null,r.a.createElement("h4",null,"Production countries: "),r.a.createElement("ul",null," ",e.countries.map((function(e){return r.a.createElement("li",{key:e.iso_3166_1},e.iso_3166_1," -  ",e.name)}))))))},B=(a(57),a(58),function(e){var t=d("https://api.themoviedb.org/3/movie/".concat(e.movieId,"/credits?api_key=f1782698a1c04f301973e311a7876bdb"),"people").response;return null!==t&&console.log(t.crew),r.a.createElement(r.a.Fragment,null,null!==t?r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{cast:t.cast}),r.a.createElement(C,{crew:t.crew,countries:e.countries})):"")}),D=(a(59),function(e){console.log(e);var t=e.details,a=t.title,n=t.backdrop_path,l=t.overview,c=t.genres,o=t.budget,s=t.revenue,i=t.release_date,m=t.runtime,u=t.homepage,p=t.production_companies,d=(t.logo_path,t.original_language),E=t.tagline,v=t.id,b=t.production_countries,g=c?c.map((function(e){return r.a.createElement("li",{key:e.id},e.name)})):"",f=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return r.a.createElement("div",{className:"details-wrapper"},r.a.createElement("div",{className:"details-title"},r.a.createElement("h2",null,a),r.a.createElement("span",null,i.substring(0,4))),r.a.createElement("div",{className:"details-pic-container"},r.a.createElement("div",{className:"details-info"},r.a.createElement("ul",{className:"details_genres"},g),r.a.createElement("span",null,"release date: ",i),r.a.createElement("span",null," ",m>0?m+"min":""," "),r.a.createElement("span",null,d)),n?r.a.createElement("img",{className:"details_img",src:"https://image.tmdb.org/t/p/w500".concat(n),alt:"backdrop"}):""),r.a.createElement("div",{className:"details-description-container"},r.a.createElement("p",null,r.a.createElement("em",null,E)),r.a.createElement("p",null,l),u?r.a.createElement("a",{className:"homepage-link",href:"".concat(u),alt:"homepage"},"Visit movie homepage"):"",o>0?r.a.createElement("ul",{className:"budget"},r.a.createElement("li",null,f.format(o)," - budget"),r.a.createElement("li",null,f.format(s)," - revenue")):""),r.a.createElement(B,{movieId:v,countries:b}),r.a.createElement("ul",{className:"companies"},r.a.createElement("li",{style:{fontWeight:"bold"}}," Production companies:"),p?p.map((function(e){return r.a.createElement("li",{key:e.id},e.logo_path?r.a.createElement("img",{className:"company_logo",src:"https://image.tmdb.org/t/p/w200".concat(e.logo_path),alt:"company logo"}):r.a.createElement("div",{className:"instead-company-logo"},r.a.createElement("p",null,e.name)))})):r.a.createElement("li",null,"no information")))}),I=function(){var e=Object(s.g)().movieId,t="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=f1782698a1c04f301973e311a7876bdb"),a=d(t,e);return console.log(a),r.a.createElement(r.a.Fragment,null,null!==a.response&&34!==a.response.status_code?r.a.createElement(D,{details:a.response,movieId:e}):"sorry, this movie has no details in our database")},P=a(38),V=function(e){return console.log(e.url),r.a.createElement("div",null,e.url?r.a.createElement(N,{url:e.url,text:"blablablabla"}):"")},T=(a(27),a(26),a(13),a(16),function(e){return!0===e.isSubmitted&&console.log(e.values),r.a.createElement("div",null,r.a.createElement("h2",null,"helloooooooooo"),r.a.createElement("p",null,e.values.year))}),q=function(){var e=E(),t=Object(n.useState)(""),a=Object(p.a)(t,2),l=a[0],c=(a[1],Object(n.useState)(!1)),o=Object(p.a)(c,2),s=o[0],i=o[1];return r.a.createElement("div",null,""!==e?r.a.createElement(P.a,{initialValues:{year:"",actor:"",selectedGenre:"",sortBy:"vote_average.desc"},onSubmit:function(e,t){var a=t.setSubmitting;t.resetForm;i(!0),a(!0),a(!1)}},(function(t){var a=t.values,n=t.errors,l=t.touched,c=t.handleChange,o=t.handleBlur,i=t.handleSubmit,m=t.isSubmitting;t.setFieldValue;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:i},r.a.createElement("div",{className:"input-row"},r.a.createElement("label",null,"Sort by:"),r.a.createElement("select",{value:a.sortBy,onChange:c,name:"sortBy",className:"sort-by"},r.a.createElement("option",{value:"vote_average.desc"},"popularity"),r.a.createElement("option",{value:"release_year.asc"},"release date - ascending"),r.a.createElement("option",{value:"release_year.desc"},"release date - decreasing"))),r.a.createElement("div",{className:"input-row"},r.a.createElement("label",null,"Year of release"),r.a.createElement("input",{type:"text",name:"year",onChange:c,onBlur:o,value:a.year,className:l.year&&n.year?"has-error":null})),r.a.createElement("div",{className:"input-row"},r.a.createElement("label",null,"Actor"),r.a.createElement("input",{type:"text",name:"actor",onChange:c,onBlur:o,value:a.actor,className:l.actor&&n.actor?"has-error":null})),r.a.createElement("div",{className:"input-row"},""!==e?e.genres.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("label",null,r.a.createElement("input",{name:"selectedGenre",type:"radio",value:e.id,checked:a.selectedGenre.includes(e.id),onChange:c})," ",e.name))})):null),r.a.createElement("div",{className:"input-row"},r.a.createElement("button",{type:"submit",disabled:m},"Submit")),s?r.a.createElement(T,{values:a,isSubmitted:s}):""))})):"",r.a.createElement(V,{url:l}))},A=function(){return r.a.createElement("div",{className:"new-movies_container "},r.a.createElement("div",{className:"new-movies-content"},r.a.createElement(N,{url:"https://api.themoviedb.org/3/discover/movie?api_key=f1782698a1c04f301973e311a7876bdb&sort_by=vote_average.desc&vote_count.gte=50&page=",text:"The most popular movies of all times:"})))},U=function(){var e=Object(s.g)(),t=e.genreId,a=e.genreName,n="https://api.themoviedb.org/3/discover/movie?with_genres=".concat(t,"&api_key=f1782698a1c04f301973e311a7876bdb&sort_by=vote_average.desc&vote_count.gte=10&page=");return r.a.createElement("div",{className:"new-movies_container "},r.a.createElement("div",{className:"new-movies-content "},r.a.createElement(N,{url:n,text:"The most popular ".concat(a," movies:")})))},G=(a(61),function(e){var t=e.actorData,a=function(){if(null!==t.response)return t.response.results[0].known_for}(),n="https://api.themoviedb.org/3/person/".concat(function(){if(null!==t.response)return t.response.results[0].id}(),"?api_key=f1782698a1c04f301973e311a7876bdb&language=en-US"),l=d(n,"byactorid"),c=null!==l.response?l.response:"",o=c.id,s=c.name,i=c.biography,m=c.profile_path,u=c.birthday,p=c.deathday,E=c.place_of_birth,v=c.homepage;c.media_type;return r.a.createElement(r.a.Fragment,null,null!==l.response&&void 0!==l.response?r.a.createElement("div",{key:o,className:"actor_wrapper"},r.a.createElement("h2",null,s),r.a.createElement("div",{className:"actor_container"},r.a.createElement("div",null,r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original/".concat(m),alt:"actor",className:"actor_img"}),r.a.createElement("p",null,"Birth date: ",u," ",null!==p?"Death date: ".concat(p):""),r.a.createElement("p",null,"Born in ",E||"")),r.a.createElement("p",null,i)),r.a.createElement("h2",null,s," is known for:"),r.a.createElement("div",{className:"known_for"},void 0!==a&&a.length>0?a.map((function(e){return"movie"===e.media_type?r.a.createElement("div",{className:"results-list",key:e.id},r.a.createElement(w,{movie:e,key:e.id})):""})):""),v?r.a.createElement("a",{href:v},"Visit actor's homepage"):""):"")}),L=function(){var e=Object(s.g)().actorName,t="https://api.themoviedb.org/3/search/person?query=".concat(e,"&api_key=f1782698a1c04f301973e311a7876bdb&language=en-US"),a=d(t,e);return r.a.createElement(G,{actorData:a})};var W=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement(_,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(j,null)),r.a.createElement(s.a,{exact:!0,path:"/popular_all_times"},r.a.createElement(A,null)),r.a.createElement(s.a,{exact:!0,path:"/detailed_search"},r.a.createElement(q,null)),r.a.createElement(s.a,{exact:!0,path:"/:movieId"},r.a.createElement(I,null)),r.a.createElement(s.a,{exact:!0,path:"/actor/:actorName"},r.a.createElement(L,null)),r.a.createElement(s.a,{exact:!0,path:"/search_results/:query"},r.a.createElement(S,null)),r.a.createElement(s.a,{exact:!0,path:"/popular_by_genre/:genreId/:genreName"},r.a.createElement(U,null))),r.a.createElement(f,null))};c.a.render(r.a.createElement(o.a,null,r.a.createElement(W,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.7a499982.chunk.js.map