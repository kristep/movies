(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],Array(23).concat([function(e,t,a){e.exports=a(56)},,,,,function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),s=a(4),o=a(1),i=(a(28),function(){return r.a.createElement("header",{className:"header"},r.a.createElement(s.b,{to:"/"},r.a.createElement("div",{className:"header__overlay"},r.a.createElement("span",{className:"header__title"},"Movies library"))))}),m=a(9),u=a.n(m),p=a(13),d=a(2),v=function(e,t){var a=Object(n.useState)(null),r=Object(d.a)(a,2),c=r[0],l=r[1],s=Object(n.useState)(null),o=Object(d.a)(s,2),i=o[0],m=o[1],v=Object(n.useState)(!1),E=Object(d.a)(v,2),f=E[0],g=E[1];return Object(n.useEffect)((function(){t&&function(){var t=Object(p.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!1),g(!0),t.prev=2,t.next=5,fetch(e);case 5:return a=t.sent,t.next=8,a.json();case 8:n=t.sent,l(n),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),m(!0);case 15:g(!1);case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}}()()}),[e,t]),{response:c,isLoading:f,isError:i}},E=(a(35),function(){var e=function(){var e=v("https://api.themoviedb.org/3/genre/movie/list?api_key=f1782698a1c04f301973e311a7876bdb&language=en-US","genres").response;return null!==e?e:""}();return r.a.createElement("ul",{className:"genres-list"},""!==e?e.genres.map((function(e){return r.a.createElement("li",{key:e.id,className:"genres-list__genre"},r.a.createElement(s.b,{to:"/popular_by_genre/".concat(e.id,"/").concat(e.name),className:"genres-list__link"},e.name))})):null)}),f=(a(36),function(){var e=function(e){var t=Object(n.useState)(e),a=Object(d.a)(t,2),r=a[0],c=a[1];return{value:r,setValue:c,reset:function(){return c("")},bind:{value:r,onChange:function(e){c(e.target.value)}}}}(""),t=e.value,a=e.bind,c=e.reset,l=Object(o.f)();return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c(),t&&l.push("/search_results/".concat(t))},className:"search",role:"search"},r.a.createElement("label",{htmlFor:"search"},r.a.createElement("span",{className:"visually-hidden"},"Search")),r.a.createElement("input",Object.assign({type:"text",placeholder:"search by movie title"},a,{className:"search__input",id:"search"})),r.a.createElement("button",{type:"submit",className:"search__button"},r.a.createElement("span",{className:"visually-hidden"},"Submit Search"),r.a.createElement("i",{className:"fas fa-search"})))});a(37);var g=function(e){var t=e.onClick,a=e.text,n=e.className;return r.a.createElement("button",{onClick:t,className:"button button--".concat(n)},a)},_=(a(38),function(e){var t,a,c=e.text,l=e.children,s=Object(n.useState)(!1),o=Object(d.a)(s,2),i=o[0],m=o[1],u=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=function(e){"Escape"===e.key&&m(!1)};return document.addEventListener("keydown",e,!1),function(){document.removeEventListener("keydown",e,!1)}}),[m]),t=u,a=function(){return m(!1)},Object(n.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&a(e)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),r.a.createElement("div",{ref:u},r.a.createElement(g,{text:c,className:"navigation",onClick:function(){m(!i)}}),r.a.createElement("div",{className:"dropdown ".concat(i&&"is-active")},r.a.createElement("ul",{className:"dropdown__content"},l)))}),b=(a(39),function(){return r.a.createElement("nav",{className:"navigation"},r.a.createElement("ul",{className:"navigation__list"},r.a.createElement("li",{className:"navigation__list-item"},r.a.createElement(_,{text:"Popular by Genres"},r.a.createElement(E,null))),r.a.createElement("li",{className:"navigation__list-item"},r.a.createElement(s.b,{to:"popular_all_times",className:"navigation__link"},"The most popular"))),r.a.createElement(f,null))}),h=(a(40),function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("span",{className:"footer__copyright"},"\xa9 ",(new Date).getFullYear()," KriStep All Rights Reserved"),r.a.createElement("i",{className:"fas fa-arrow-up footer__arrow-up",onClick:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}}))}),N=function(){return(new Date).toISOString().split("T")[0]},w=a(10),y=(a(41),function(e){var t=e.movie,a=t.title,n=t.id,c=t.vote_average,l=t.vote_count,o=t.poster_path,i=t.release_date;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{to:"/".concat(n),className:"movie-card"},o?r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300/".concat(o),alt:"movie poster",className:"movie-card__image"}):r.a.createElement("img",{className:"movie-card__image",alt:"this movie has no poster"}),r.a.createElement("div",{className:"movie-card__description"},r.a.createElement("h3",{className:"movie-card__title"},a),c>0?r.a.createElement("p",{className:"movie-card__votes"},c," points (",l," votes)"):r.a.createElement("p",{className:"movie-card__votes"},"-- no votes yet --"),r.a.createElement("span",{className:"movie-card__released"},i))))}),j=(a(42),function(e){var t=Object(n.useState)([]),a=Object(d.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(0),o=Object(d.a)(s,2),i=o[0],m=o[1],v=Object(n.useState)(0),E=Object(d.a)(v,2),f=E[0],_=E[1],b=Object(n.useState)(!1),h=Object(d.a)(b,2),N=h[0],j=h[1],O=Object(n.useState)(!1),k=Object(d.a)(O,2),x=k[0],S=k[1],D=Object(n.useState)(1),T=Object(d.a)(D,2),F=T[0],B=T[1];return Object(n.useEffect)((function(){(function(){var t=Object(p.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(!1),j(!0),t.prev=2,t.next=5,fetch("".concat(e.url).concat(F));case 5:return a=t.sent,t.next=8,a.json();case 8:n=t.sent,l((function(e){return[].concat(Object(w.a)(e),Object(w.a)(n.results))})),m(n.total_pages),_(n.total_results),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),S(!0);case 17:j(!1);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(){return t.apply(this,arguments)}})()()}),[F,e.url]),r.a.createElement(r.a.Fragment,null,x&&r.a.createElement("div",null,"Something went wrong ..."),N?r.a.createElement("h1",null,"LOADING..."):r.a.createElement("div",{className:"new-movies"},r.a.createElement("h2",{className:"new-movies__header"},e.text),r.a.createElement("div",{className:"new-movies__items"},c.map((function(e){return r.a.createElement(y,{movie:e,key:e.id})}))),r.a.createElement("p",{className:"new-movies__counts",style:{textAlign:"center"}},"now showing: ",function(){var e=20*F;return e>f&&(e=f),e}()," from ",f," results"),F<i?r.a.createElement(g,{onClick:function(e){return function(e){F<i&&(e.preventDefault(),B((function(e){return e+1})))}(e)},className:"load-more",text:"Load More"}):""))}),O=(a(43),a(44),function(){var e="https://api.themoviedb.org/3/discover/movie?api_key=f1782698a1c04f301973e311a7876bdb&primary_release_date.gte=".concat(function(){var e=new Date,t=new Date(e);return t.setDate(e.getDate()-7),t.toISOString().split("T")[0]}(),"&primary_release_date.lte=").concat(N(),"&sort_by=release_date.desc&page="),t="https://api.themoviedb.org/3/movie/upcoming?api_key=f1782698a1c04f301973e311a7876bdb&primary_release_date.gte=".concat(N(),"&page="),a=function(e){e.target.previousSibling.classList.remove("new-movies_home"),e.target.style.display="none"};return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"new-movies_container"},r.a.createElement("div",{className:"new-movies-content new-movies_home"},r.a.createElement(j,{url:e,text:"Just released movies:"})),r.a.createElement(g,{onClick:function(e){return a(e)},text:"show all",className:"show-all"})),r.a.createElement("div",{className:"new-movies_container upcomming-container"},r.a.createElement("div",{className:"new-movies_content new-movies_home"},r.a.createElement(j,{url:t,text:"Upcomming movies:"})),r.a.createElement(g,{onClick:function(e){return a(e)},text:"show all",className:"show-all"})))}),k=function(e){var t=e.results,a=(t.page,t.total_results),n=(t.total_pages,t.results),c=e.query;return console.log(n),r.a.createElement("div",{className:"results-container"},r.a.createElement("h2",{style:{textAlign:"center"}},"Search by: '",c,"' ",r.a.createElement("br",null),n.length>0?r.a.createElement("span",{style:{fontWeight:"normal",fontSize:"smaller"}},a," movies found"):""),r.a.createElement("div",{className:"results-list"},n.length>0?n.map((function(e){return r.a.createElement(y,{movie:e,key:e.id})})):r.a.createElement("p",null,"nothing to display")))},x=function(){var e=Object(o.g)().query,t=Object(n.useState)(1),a=Object(d.a)(t,2),c=a[0],l=a[1],s="https://api.themoviedb.org/3/search/movie?api_key=f1782698a1c04f301973e311a7876bdb&query=".concat(e,"&page=").concat(c),i=v(s,e).response,m=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0};return r.a.createElement(r.a.Fragment,null,null!==i?r.a.createElement(k,{results:i,query:e,showNext:function(){l((function(e){return e+1})),m()},showPrev:function(){c>1&&l((function(e){return e-1})),m()}}):"not found")},S=(a(45),function(e){var t=e.titleText,a=e.children;return r.a.createElement("li",{className:"crew-item"},r.a.createElement("h4",{className:"crew-item__title"},t)," ",a)}),D=(a(46),function(e){var t=e.crew,a=e.countries,c=Object(n.useState)(""),l=Object(d.a)(c,2),s=l[0],o=l[1],i=Object(n.useState)([]),m=Object(d.a)(i,2),u=m[0],p=m[1],v=Object(n.useState)([]),E=Object(d.a)(v,2),f=E[0],g=E[1];return Object(n.useEffect)((function(){t.forEach((function(e){"Directing"===e.department?o(e.name):"Writing"===e.department?p((function(t){return[].concat(Object(w.a)(t),[e])})):"Sound"===e.department&&g((function(t){return[].concat(Object(w.a)(t),[e])}))}))}),[]),r.a.createElement("ul",{className:"crew-list"},s&&r.a.createElement(S,{titleText:"Directed by:"},s),0!==u.length&&r.a.createElement(S,{titleText:"Written by:"},r.a.createElement("ul",null,u.map((function(e){return r.a.createElement("li",{key:e.id},e.name," - ",e.job)})))),0!==f.length&&r.a.createElement(S,{titleText:"Sound:"},r.a.createElement("ul",null,f.map((function(e){return r.a.createElement("li",{key:e.id},e.name," - ",e.job)})))),0!==a.length&&r.a.createElement(S,{titleText:"Production countries:"},r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",{key:e.iso_3166_1},e.iso_3166_1," - ",e.name)})))))}),T=a(22),F=(a(47),function(e){var t=e.actor;return r.a.createElement("li",{className:"cast-item"},r.a.createElement("div",{className:"cast-item__image-wrapper"},r.a.createElement("img",{className:"cast-item__image",src:"https://image.tmdb.org/t/p/original".concat(t.profile_path),alt:"actor"})),t.character&&r.a.createElement("span",{className:"cast-item__character"},t.character),r.a.createElement("span",{className:"cast-item__name"},t.name))}),B=(a(48),function(e){var t=e.cast;return Object(n.useEffect)((function(){new T.a(".swiper-container",{slidesPerView:10,spaceBetween:50,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{1024:{slidesPerView:6,spaceBetween:40},768:{slidesPerView:4,spaceBetween:30},640:{slidesPerView:3,spaceBetween:20},320:{slidesPerView:2,spaceBetween:10}}})}),[]),r.a.createElement(r.a.Fragment,null,0!==t.length&&r.a.createElement("div",{className:"swiper-container"},r.a.createElement("ul",{className:" swiper-wrapper "},t.map((function(e){return r.a.createElement(s.b,{className:"swiper-slide",to:"/actor/".concat(e.name),key:e.cast_id},r.a.createElement(F,{actor:e}))}))),r.a.createElement("div",{className:"swiper-button-prev"}),r.a.createElement("div",{className:"swiper-button-next"})))}),I=(a(49),a(50),a(51),function(e){var t=e.genres,a=e.release_date,n=e.runtime,c=e.original_language,l=e.backdrop_path,s=t?t.map((function(e){return r.a.createElement("li",{key:e.id,className:"image-section__genres-item"},e.name)})):"";return r.a.createElement("div",{className:"image-section"},r.a.createElement("div",{className:"image-section__info"},r.a.createElement("ul",{className:"image-section__genres"},s),r.a.createElement("span",null,"release date: ",a),r.a.createElement("span",null,n>0?n+"min.":""," (",c,")")),l?r.a.createElement("img",{className:"image-section__image",src:"https://image.tmdb.org/t/p/w500".concat(l),alt:"backdrop"}):"")}),P=(a(52),function(e){var t=e.tagline,a=e.overview,n=e.budget,c=e.revenue,l=e.homepage,s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return console.log(n),r.a.createElement("div",{className:"movie-description"},r.a.createElement("p",{className:"movie-description__tagline"},t),r.a.createElement("p",null,a),n>0&&r.a.createElement("div",{className:"movie-description__budget"},r.a.createElement("p",{className:"movie-description__budget-row"},r.a.createElement("span",null,"Budget:"),r.a.createElement("span",null,s.format(n))),r.a.createElement("p",{className:"movie-description__budget-row"},r.a.createElement("span",null,"Revenue:"),r.a.createElement("span",null,s.format(c)))),l&&r.a.createElement("a",{className:"movie-description__link",href:"".concat(l),alt:"homepage"},"Visit movie homepage"))}),C=(a(53),function(e){var t=e.production_companies;return r.a.createElement("ul",{className:"companies"},"Production companies:",t.map((function(e){return r.a.createElement("li",{key:e.id,className:"companies-item"},e.logo_path?r.a.createElement("img",{className:"companies__logo",src:"https://image.tmdb.org/t/p/w200".concat(e.logo_path),alt:"company logo"}):r.a.createElement("div",{className:"companies__instead-logo"},r.a.createElement("p",null,e.name)))})))}),L=function(e){var t=e.details,a=t.title,n=t.backdrop_path,c=t.overview,l=t.genres,s=t.budget,o=t.revenue,i=t.release_date,m=t.runtime,u=t.homepage,p=t.production_companies,d=t.original_language,E=t.tagline,f=t.id,g=t.production_countries,_=v("https://api.themoviedb.org/3/movie/".concat(f,"/credits?api_key=f1782698a1c04f301973e311a7876bdb"),"people").response;return console.log(s),r.a.createElement("div",{className:"details-wrapper"},r.a.createElement("h2",{className:"details-title"},a," ",r.a.createElement("span",{className:"details-year"},"(",i.substring(0,4),")")),r.a.createElement("div",{className:"details-pic-container"},r.a.createElement(I,{genres:l,release_date:i,runtime:m,original_language:d,backdrop_path:n})),r.a.createElement("div",{className:"details-description-container"},r.a.createElement(P,{tagline:E,overview:c,budget:s,revenue:o,homepage:u})),null!==_&&r.a.createElement("div",{className:"cast-container"},r.a.createElement(B,{cast:_.cast})),null!==_&&r.a.createElement("div",{className:"crew-container"},r.a.createElement(D,{crew:_.crew,countries:g})),p&&r.a.createElement(C,{production_companies:p}))},V=function(){var e=Object(o.g)().movieId,t="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=f1782698a1c04f301973e311a7876bdb"),a=v(t,e);return console.log(a),r.a.createElement(r.a.Fragment,null,null!==a.response&&34!==a.response.status_code?r.a.createElement(L,{details:a.response}):"sorry, this movie has no details in our database")},q=function(){return r.a.createElement("div",{className:"new-movies_container "},r.a.createElement("div",{className:"new-movies-content"},r.a.createElement(j,{url:"https://api.themoviedb.org/3/discover/movie?api_key=f1782698a1c04f301973e311a7876bdb&sort_by=vote_average.desc&vote_count.gte=50&page=",text:"The most popular movies of all times:"})))},U=function(){var e=Object(o.g)(),t=e.genreId,a=e.genreName,n="https://api.themoviedb.org/3/discover/movie?with_genres=".concat(t,"&api_key=f1782698a1c04f301973e311a7876bdb&sort_by=vote_average.desc&vote_count.gte=10&page=");return r.a.createElement("div",{className:"new-movies_container "},r.a.createElement("div",{className:"new-movies-content "},r.a.createElement(j,{url:n,text:"The most popular ".concat(a," movies:")})))},A=(a(54),function(e){var t=e.actorData,a=function(){if(null!==t.response)return t.response.results[0].known_for}(),n="https://api.themoviedb.org/3/person/".concat(function(){if(null!==t.response)return t.response.results[0].id}(),"?api_key=f1782698a1c04f301973e311a7876bdb&language=en-US"),c=v(n,"byactorid"),l=null!==c.response?c.response:"",s=l.id,o=l.name,i=l.biography,m=l.profile_path,u=l.birthday,p=l.deathday,d=l.place_of_birth,E=l.homepage;l.media_type;return r.a.createElement(r.a.Fragment,null,null!==c.response&&void 0!==c.response?r.a.createElement("div",{key:s,className:"actor_wrapper"},r.a.createElement("h2",null,o),r.a.createElement("div",{className:"actor_container"},r.a.createElement("div",null,r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original/".concat(m),alt:"actor",className:"actor_img"}),r.a.createElement("p",null,"Birth date: ",u," ",null!==p?"Death date: ".concat(p):""),r.a.createElement("p",null,"Born in ",d||"")),r.a.createElement("p",null,i)),r.a.createElement("h2",null,o," is known for:"),r.a.createElement("div",{className:"known_for"},void 0!==a&&a.length>0?a.map((function(e){return"movie"===e.media_type?r.a.createElement("div",{className:"results-list",key:e.id},r.a.createElement(y,{movie:e,key:e.id})):""})):""),E?r.a.createElement("a",{href:E},"Visit actor's homepage"):""):"")}),R=function(){var e=Object(o.g)().actorName,t="https://api.themoviedb.org/3/search/person?query=".concat(e,"&api_key=f1782698a1c04f301973e311a7876bdb&language=en-US"),a=v(t,e);return r.a.createElement(A,{actorData:a})};var J=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i,null),r.a.createElement(b,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/"},r.a.createElement(O,null)),r.a.createElement(o.a,{exact:!0,path:"/popular_all_times"},r.a.createElement(q,null)),r.a.createElement(o.a,{exact:!0,path:"/:movieId"},r.a.createElement(V,null)),r.a.createElement(o.a,{exact:!0,path:"/actor/:actorName"},r.a.createElement(R,null)),r.a.createElement(o.a,{exact:!0,path:"/search_results/:query"},r.a.createElement(x,null)),r.a.createElement(o.a,{exact:!0,path:"/popular_by_genre/:genreId/:genreName"},r.a.createElement(U,null))),r.a.createElement(h,null))};a(55);l.a.render(r.a.createElement(s.a,{basename:"".concat("/movies","/")},r.a.createElement(J,null)),document.getElementById("root"))}]),[[23,1,2]]]);
//# sourceMappingURL=main.869bd16b.chunk.js.map