(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{40:function(e,t,a){e.exports=a(65)},45:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(35),c=a.n(l),o=a(4),s=a(2),i=(a(45),function(){return r.a.createElement("header",{className:"header"},r.a.createElement(o.b,{to:"/"},r.a.createElement("h1",{className:"header__title"},"Movies library")))}),m=a(10),u=a.n(m),p=a(15),d=a(1),E=function(e,t){var a=Object(n.useState)(null),r=Object(d.a)(a,2),l=r[0],c=r[1],o=Object(n.useState)(null),s=Object(d.a)(o,2),i=s[0],m=s[1],E=Object(n.useState)(!1),v=Object(d.a)(E,2),f=v[0],b=v[1];return Object(n.useEffect)((function(){t&&function(){var t=Object(p.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!1),b(!0),t.prev=2,t.next=5,fetch(e);case 5:return a=t.sent,t.next=8,a.json();case 8:n=t.sent,c(n),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),m(!0);case 15:b(!1);case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}}()()}),[e,t]),{response:l,isLoading:f,isError:i}},v=function(){var e=E("https://api.themoviedb.org/3/genre/movie/list?api_key=f1782698a1c04f301973e311a7876bdb&language=en-US","genres").response;return null!==e?e:""},f=(a(51),function(){var e=v();return r.a.createElement(r.a.Fragment,null,""!==e?e.genres.map((function(e){return r.a.createElement("li",{key:e.id,className:"genre"},r.a.createElement(o.b,{to:"/popular_by_genre/".concat(e.id,"/").concat(e.name),className:"genre__link"},e.name))})):null)}),b=(a(52),function(){var e=function(e){var t=Object(n.useState)(e),a=Object(d.a)(t,2),r=a[0],l=a[1];return{value:r,setValue:l,reset:function(){return l("")},bind:{value:r,onChange:function(e){l(e.target.value)}}}}(""),t=e.value,a=e.bind,l=e.reset,c=Object(s.f)();return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(),t&&c.push("/search_results/".concat(t))},className:"search"},r.a.createElement("input",Object.assign({type:"text",placeholder:"search by movie title"},a,{className:"search__input"})),r.a.createElement("button",{type:"submit",className:"search__button"},r.a.createElement("i",{class:"fas fa-search"})))});a(53);var g=function(e){var t,a,l=e.text,c=e.children,o=Object(n.useState)(!1),s=Object(d.a)(o,2),i=s[0],m=s[1],u=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=function(e){"Escape"===e.key&&m(!1)};return document.addEventListener("keydown",e,!1),function(){document.removeEventListener("keydown",e,!1)}}),[m]),t=u,a=function(){return m(!1)},Object(n.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&a(e)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),r.a.createElement("div",{ref:u},r.a.createElement("button",{onClick:function(){m(!i)},className:"navigation__button"},l),r.a.createElement("div",{className:"dropdown ".concat(i&&"is-active")},r.a.createElement("ul",{className:"dropdown__content"},c)))},h=(a(54),function(){return r.a.createElement("nav",{className:"navigation"},r.a.createElement(g,{text:"Popular by Genres"},r.a.createElement(f,null)),r.a.createElement(g,{text:"The Most popular"},r.a.createElement(o.b,{to:"popular_all_times"},r.a.createElement("li",null,"of all time")),r.a.createElement(o.b,{to:"popular_by_year"},r.a.createElement("li",null,"of selected year"))),r.a.createElement(b,null))}),_=(a(55),function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("span",{className:"footer__copyright"},"\xa9 ",(new Date).getFullYear()," KriStep All Rights Reserved"),r.a.createElement("i",{className:"fas fa-arrow-up footer__arrow-up",onClick:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}}))}),y=(a(56),a(57),a(17)),w=(a(58),function(e){return r.a.createElement("button",{onClick:e.onClick,className:e.className},e.text)}),N=function(e){var t=e.movie,a=t.title,n=t.id,l=t.vote_average,c=t.vote_count,s=t.poster_path,i=t.release_date;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{to:"/".concat(n),className:"result-item"},s?r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300/".concat(s),alt:"movie poster"}):r.a.createElement("img",{alt:"this movie has no poster"}),r.a.createElement("div",{className:"result-item_descrip"},r.a.createElement("h3",null,a),l>0?r.a.createElement("p",null,l," points (",c," votes)"):r.a.createElement("p",null,"-- no votes yet --"),r.a.createElement("span",null,i))))},j=function(e){var t=Object(n.useState)([]),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(0),s=Object(d.a)(o,2),i=s[0],m=s[1],E=Object(n.useState)(0),v=Object(d.a)(E,2),f=v[0],b=v[1],g=Object(n.useState)(!1),h=Object(d.a)(g,2),_=h[0],j=h[1],O=Object(n.useState)(!1),k=Object(d.a)(O,2),x=k[0],S=k[1],F=Object(n.useState)(1),C=Object(d.a)(F,2),D=C[0],B=C[1];return Object(n.useEffect)((function(){(function(){var t=Object(p.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(!1),j(!0),t.prev=2,t.next=5,fetch("".concat(e.url).concat(D));case 5:return a=t.sent,t.next=8,a.json();case 8:n=t.sent,c((function(e){return[].concat(Object(y.a)(e),Object(y.a)(n.results))})),m(n.total_pages),b(n.total_results),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),S(!0);case 17:j(!1);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(){return t.apply(this,arguments)}})()()}),[D,e.url]),r.a.createElement(r.a.Fragment,null,x&&r.a.createElement("div",null,"Something went wrong ..."),_?r.a.createElement("h1",null,"LOADING..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"new-movies_header"},e.text),r.a.createElement("div",{className:"new-movies_items"},l.map((function(e){return r.a.createElement(N,{movie:e,key:e.id})}))),r.a.createElement("h4",{style:{textAlign:"center"}},"now showing:  ",function(){var e=20*D;return e>f&&(e=f),e}(),"  from ",f," results"),D<i?r.a.createElement(w,{onClick:function(e){return function(e){D<i&&(e.preventDefault(),B((function(e){return e+1})))}(e)},className:"btn load_more",text:"Load More"}):""))},O=function(){var e=(new Date).toISOString().split("T")[0],t="https://api.themoviedb.org/3/discover/movie?api_key=f1782698a1c04f301973e311a7876bdb&primary_release_date.gte=".concat(function(){var e=new Date,t=new Date(e);return t.setDate(e.getDate()-7),t.toISOString().split("T")[0]}(),"&primary_release_date.lte=").concat(e,"&sort_by=release_date.desc&page="),a="https://api.themoviedb.org/3/movie/upcoming?api_key=f1782698a1c04f301973e311a7876bdb&primary_release_date.gte=".concat(e,"&page="),n=function(e){e.target.previousSibling.classList.remove("new-movies_home"),e.target.style.display="none"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"new-movies_container "},r.a.createElement("div",{className:"new-movies-content new-movies_home"},r.a.createElement(j,{url:t,text:"Just released movies:"})),r.a.createElement(w,{onClick:function(e){return n(e)},text:"show all",className:"btn show_all"})),r.a.createElement("div",{className:"new-movies_container upcomming-container"},r.a.createElement("div",{className:"new-movies_content new-movies_home"},r.a.createElement(j,{url:a,text:"Upcomming movies:"})),r.a.createElement(w,{onClick:function(e){return n(e)},text:"show all",className:"btn show_all"})))},k=function(e){return r.a.createElement("div",{className:"prev-next_container"},r.a.createElement("button",{className:"btn",onClick:e.showPrev},"Prev"),r.a.createElement("span",null," ",e.page," of ",e.total_pages," "),r.a.createElement("button",{className:"btn",onClick:e.showNext},"Next"))},x=function(e){var t=e.results,a=t.page,n=t.total_results,l=t.total_pages,c=t.results,o=e.query;return console.log(c),r.a.createElement("div",{className:"results-container"},r.a.createElement("h2",{style:{textAlign:"center"}},"Search by: '",o,"' ",r.a.createElement("br",null),c.length>0?r.a.createElement("span",{style:{fontWeight:"normal",fontSize:"smaller"}},n," movies found"):""),r.a.createElement("div",{className:"results-list"},c.length>0?c.map((function(e){return r.a.createElement(N,{movie:e,key:e.id})})):r.a.createElement("p",null,"nothing to display")),l>0?r.a.createElement(k,{showNext:a<l?e.showNext:null,showPrev:e.showPrev,page:a,total_pages:l}):"")},S=function(){var e=Object(s.g)().query,t=Object(n.useState)(1),a=Object(d.a)(t,2),l=a[0],c=a[1],o="https://api.themoviedb.org/3/search/movie?api_key=f1782698a1c04f301973e311a7876bdb&query=".concat(e,"&page=").concat(l),i=E(o,e).response,m=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0};return r.a.createElement(r.a.Fragment,null,null!==i?r.a.createElement(x,{results:i,query:e,showNext:function(){c((function(e){return e+1})),m()},showPrev:function(){l>1&&c((function(e){return e-1})),m()}}):"not found")},F=a(39),C=function(e){return Object(n.useEffect)((function(){new F.a(".swiper-container",{slidesPerView:10,spaceBetween:50,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{1024:{slidesPerView:6,spaceBetween:40},768:{slidesPerView:4,spaceBetween:30},640:{slidesPerView:3,spaceBetween:20},320:{slidesPerView:2,spaceBetween:10}}})}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cast-container swiper-container"},r.a.createElement("ul",{className:"cast swiper-wrapper "},e.cast.map((function(e){return r.a.createElement(o.b,{className:"swiper-slide",to:"/actor/".concat(e.name),key:e.cast_id},r.a.createElement("li",null,r.a.createElement("div",{className:"actor-img-container"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(e.profile_path),alt:"actor"})),e.character?r.a.createElement("span",{className:"character"},e.character):"",r.a.createElement("span",null,e.name)))}))),r.a.createElement("div",{class:"swiper-button-prev"}),r.a.createElement("div",{class:"swiper-button-next"})))},D=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)([]),s=Object(d.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)([]),p=Object(d.a)(u,2),E=p[0],v=p[1];return Object(n.useEffect)((function(){e.crew.forEach((function(e){"Directing"===e.department?c(e.name):"Writing"===e.department?m((function(t){return[].concat(Object(y.a)(t),[e])})):"Sound"===e.department&&v((function(t){return[].concat(Object(y.a)(t),[e])}))}))}),[]),r.a.createElement("div",{className:"crew-container"},r.a.createElement("ul",{className:"crew"},r.a.createElement("li",null,r.a.createElement("h4",null,"Directed by:")," ",l),i!==[]?r.a.createElement("li",null,r.a.createElement("h4",null,"Written by: "),r.a.createElement("ul",null," ",i.map((function(e){return r.a.createElement("li",{key:e.id},e.name," - ",e.job)})))):"",E!==[]?r.a.createElement("li",null,r.a.createElement("h4",null,"Sound:"),r.a.createElement("ul",null," ",E.map((function(e){return r.a.createElement("li",{key:e.id},e.name," - ",e.job)})))):"",r.a.createElement("li",null,r.a.createElement("h4",null,"Production countries: "),r.a.createElement("ul",null," ",e.countries.map((function(e){return r.a.createElement("li",{key:e.iso_3166_1},e.iso_3166_1," -  ",e.name)}))))))},B=(a(59),a(60),function(e){var t=E("https://api.themoviedb.org/3/movie/".concat(e.movieId,"/credits?api_key=f1782698a1c04f301973e311a7876bdb"),"people").response;return null!==t&&console.log(t.crew),r.a.createElement(r.a.Fragment,null,null!==t?r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{cast:t.cast}),r.a.createElement(D,{crew:t.crew,countries:e.countries})):"")}),P=(a(61),function(e){console.log(e);var t=e.details,a=t.title,n=t.backdrop_path,l=t.overview,c=t.genres,o=t.budget,s=t.revenue,i=t.release_date,m=t.runtime,u=t.homepage,p=t.production_companies,d=(t.logo_path,t.original_language),E=t.tagline,v=t.id,f=t.production_countries,b=c?c.map((function(e){return r.a.createElement("li",{key:e.id},e.name)})):"",g=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return r.a.createElement("div",{className:"details-wrapper"},r.a.createElement("div",{className:"details-title"},r.a.createElement("h2",null,a),r.a.createElement("span",null,i.substring(0,4))),r.a.createElement("div",{className:"details-pic-container"},r.a.createElement("div",{className:"details-info"},r.a.createElement("ul",{className:"details_genres"},b),r.a.createElement("span",null,"release date: ",i),r.a.createElement("span",null," ",m>0?m+"min":""," "),r.a.createElement("span",null,d)),n?r.a.createElement("img",{className:"details_img",src:"https://image.tmdb.org/t/p/w500".concat(n),alt:"backdrop"}):""),r.a.createElement("div",{className:"details-description-container"},r.a.createElement("p",null,r.a.createElement("em",null,E)),r.a.createElement("p",null,l),u?r.a.createElement("a",{className:"homepage-link",href:"".concat(u),alt:"homepage"},"Visit movie homepage"):"",o>0?r.a.createElement("ul",{className:"budget"},r.a.createElement("li",null,g.format(o)," - budget"),r.a.createElement("li",null,g.format(s)," - revenue")):""),r.a.createElement(B,{movieId:v,countries:f}),r.a.createElement("ul",{className:"companies"},r.a.createElement("li",{style:{fontWeight:"bold"}}," Production companies:"),p?p.map((function(e){return r.a.createElement("li",{key:e.id},e.logo_path?r.a.createElement("img",{className:"company_logo",src:"https://image.tmdb.org/t/p/w200".concat(e.logo_path),alt:"company logo"}):r.a.createElement("div",{className:"instead-company-logo"},r.a.createElement("p",null,e.name)))})):r.a.createElement("li",null,"no information")))}),I=function(){var e=Object(s.g)().movieId,t="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=f1782698a1c04f301973e311a7876bdb"),a=E(t,e);return console.log(a),r.a.createElement(r.a.Fragment,null,null!==a.response&&34!==a.response.status_code?r.a.createElement(P,{details:a.response,movieId:e}):"sorry, this movie has no details in our database")},V=a(38),T=function(e){return console.log(e.url),r.a.createElement("div",null,e.url?r.a.createElement(j,{url:e.url,text:"blablablabla"}):"")},L=(a(27),a(26),a(13),a(16),function(e){return!0===e.isSubmitted&&console.log(e.values),r.a.createElement("div",null,r.a.createElement("h2",null,"helloooooooooo"),r.a.createElement("p",null,e.values.year))}),q=function(){var e=v(),t=Object(n.useState)(""),a=Object(d.a)(t,2),l=a[0],c=(a[1],Object(n.useState)(!1)),o=Object(d.a)(c,2),s=o[0],i=o[1];return r.a.createElement("div",null,""!==e?r.a.createElement(V.a,{initialValues:{year:"",actor:"",selectedGenre:"",sortBy:"vote_average.desc"},onSubmit:function(e,t){var a=t.setSubmitting;t.resetForm;i(!0),a(!0),a(!1)}},(function(t){var a=t.values,n=t.errors,l=t.touched,c=t.handleChange,o=t.handleBlur,i=t.handleSubmit,m=t.isSubmitting;t.setFieldValue;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:i},r.a.createElement("div",{className:"input-row"},r.a.createElement("label",null,"Sort by:"),r.a.createElement("select",{value:a.sortBy,onChange:c,name:"sortBy",className:"sort-by"},r.a.createElement("option",{value:"vote_average.desc"},"popularity"),r.a.createElement("option",{value:"release_year.asc"},"release date - ascending"),r.a.createElement("option",{value:"release_year.desc"},"release date - decreasing"))),r.a.createElement("div",{className:"input-row"},r.a.createElement("label",null,"Year of release"),r.a.createElement("input",{type:"text",name:"year",onChange:c,onBlur:o,value:a.year,className:l.year&&n.year?"has-error":null})),r.a.createElement("div",{className:"input-row"},r.a.createElement("label",null,"Actor"),r.a.createElement("input",{type:"text",name:"actor",onChange:c,onBlur:o,value:a.actor,className:l.actor&&n.actor?"has-error":null})),r.a.createElement("div",{className:"input-row"},""!==e?e.genres.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("label",null,r.a.createElement("input",{name:"selectedGenre",type:"radio",value:e.id,checked:a.selectedGenre.includes(e.id),onChange:c})," ",e.name))})):null),r.a.createElement("div",{className:"input-row"},r.a.createElement("button",{type:"submit",disabled:m},"Submit")),s?r.a.createElement(L,{values:a,isSubmitted:s}):""))})):"",r.a.createElement(T,{url:l}))},U=function(){return r.a.createElement("div",{className:"new-movies_container "},r.a.createElement("div",{className:"new-movies-content"},r.a.createElement(j,{url:"https://api.themoviedb.org/3/discover/movie?api_key=f1782698a1c04f301973e311a7876bdb&sort_by=vote_average.desc&vote_count.gte=50&page=",text:"The most popular movies of all times:"})))},A=function(){var e=Object(s.g)(),t=e.genreId,a=e.genreName,n="https://api.themoviedb.org/3/discover/movie?with_genres=".concat(t,"&api_key=f1782698a1c04f301973e311a7876bdb&sort_by=vote_average.desc&vote_count.gte=10&page=");return r.a.createElement("div",{className:"new-movies_container "},r.a.createElement("div",{className:"new-movies-content "},r.a.createElement(j,{url:n,text:"The most popular ".concat(a," movies:")})))},G=(a(63),function(e){var t=e.actorData,a=function(){if(null!==t.response)return t.response.results[0].known_for}(),n="https://api.themoviedb.org/3/person/".concat(function(){if(null!==t.response)return t.response.results[0].id}(),"?api_key=f1782698a1c04f301973e311a7876bdb&language=en-US"),l=E(n,"byactorid"),c=null!==l.response?l.response:"",o=c.id,s=c.name,i=c.biography,m=c.profile_path,u=c.birthday,p=c.deathday,d=c.place_of_birth,v=c.homepage;c.media_type;return r.a.createElement(r.a.Fragment,null,null!==l.response&&void 0!==l.response?r.a.createElement("div",{key:o,className:"actor_wrapper"},r.a.createElement("h2",null,s),r.a.createElement("div",{className:"actor_container"},r.a.createElement("div",null,r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original/".concat(m),alt:"actor",className:"actor_img"}),r.a.createElement("p",null,"Birth date: ",u," ",null!==p?"Death date: ".concat(p):""),r.a.createElement("p",null,"Born in ",d||"")),r.a.createElement("p",null,i)),r.a.createElement("h2",null,s," is known for:"),r.a.createElement("div",{className:"known_for"},void 0!==a&&a.length>0?a.map((function(e){return"movie"===e.media_type?r.a.createElement("div",{className:"results-list",key:e.id},r.a.createElement(N,{movie:e,key:e.id})):""})):""),v?r.a.createElement("a",{href:v},"Visit actor's homepage"):""):"")}),W=function(){var e=Object(s.g)().actorName,t="https://api.themoviedb.org/3/search/person?query=".concat(e,"&api_key=f1782698a1c04f301973e311a7876bdb&language=en-US"),a=E(t,e);return r.a.createElement(G,{actorData:a})};var J=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i,null),r.a.createElement(h,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(O,null)),r.a.createElement(s.a,{exact:!0,path:"/popular_all_times"},r.a.createElement(U,null)),r.a.createElement(s.a,{exact:!0,path:"/detailed_search"},r.a.createElement(q,null)),r.a.createElement(s.a,{exact:!0,path:"/:movieId"},r.a.createElement(I,null)),r.a.createElement(s.a,{exact:!0,path:"/actor/:actorName"},r.a.createElement(W,null)),r.a.createElement(s.a,{exact:!0,path:"/search_results/:query"},r.a.createElement(S,null)),r.a.createElement(s.a,{exact:!0,path:"/popular_by_genre/:genreId/:genreName"},r.a.createElement(A,null))),r.a.createElement(_,null))};a(64);c.a.render(r.a.createElement(o.a,{basename:"".concat("/movies","/")},r.a.createElement(J,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.9f463a36.chunk.js.map